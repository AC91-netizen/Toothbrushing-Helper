<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Toothbrushing Helper</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body {
  font-family: Arial, sans-serif;
  background: #0a3d62;
  color: white;
  text-align: center;
  padding: 20px;
}
h1 { font-size: 2em; }
#instruction { font-size: 1.6em; margin: 10px 0; }
.timer { font-size: 1.4em; margin-bottom: 15px; }

/* Mouth container */
.mouth {
  position: relative;
  display: inline-block;
  margin: 20px auto;
}

/* Gum rows */
.gum-row {
  display: flex;
  justify-content: center;
  gap: 6px;
}

/* Tooth shape */
.tooth {
  width: 28px;
  height: 50px;
  background: #fff;
  border-radius: 0 0 14px 14px;
  opacity: 0.25;
  position: relative;
  transition: 0.3s;
}
.tooth::after {
  content: "";
  position: absolute;
  bottom: -6px;
  left: 50%;
  transform: translateX(-50%);
  width: 14px;
  height: 8px;
  background: #fff;
  border-radius: 0 0 8px 8px;
}
.active { opacity: 1; box-shadow: 0 0 18px #00ffcc; }

/* Tongue */
.tongue {
  width: 240px;
  height: 40px;
  background: #ff4d4d;
  border-radius: 50% / 50%;
  margin: -15px auto 20px auto;
  display: none;
}

/* Button */
button {
  font-size: 1.4em;
  padding: 12px 25px;
  border-radius: 12px;
  border: none;
  background: #ffcc00;
  cursor: pointer;
  margin-top: 15px;
}
button:active { transform: scale(0.95); }
</style>
</head>

<body>
<h1>ðŸª¥ Letâ€™s Brush Teeth!</h1>
<div id="instruction">Press START</div>
<div class="timer" id="timer"></div>

<div class="mouth" id="ahhMouth">
  <!-- Top row AHH -->
  <div class="gum-row" id="topRow"></div>
  <!-- Tongue -->
  <div class="tongue" id="tongue"></div>
  <!-- Bottom row AHH -->
  <div class="gum-row" id="bottomRow"></div>
</div>

<!-- EEE front teeth (hidden until AHH done) -->
<div class="mouth" id="eeeMouth" style="display:none;">
  <div class="gum-row" id="eeeLeft"></div>
  <div class="gum-row" id="eeeMiddle"></div>
  <div class="gum-row" id="eeeRight"></div>
</div>

<button onclick="nextStep()" id="nextBtn">START / NEXT</button>

<script>
// Create teeth
function createTeeth(containerId, count){
  const container = document.getElementById(containerId);
  for(let i=0;i<count;i++){
    const tooth = document.createElement('div');
    tooth.classList.add('tooth');
    container.appendChild(tooth);
  }
}

// Define sections with IDs and teeth per subsection
const sections = [
  // AHH TOP
  { name:"AHH TOP LEFT", container:"topRow", indices:[0,1,2,3,4] },
  { name:"AHH TOP MIDDLE", container:"topRow", indices:[5,6,7,8] },
  { name:"AHH TOP RIGHT", container:"topRow", indices:[9,10,11,12,13] },

  // AHH BOTTOM
  { name:"AHH BOTTOM LEFT", container:"bottomRow", indices:[0,1,2,3,4] },
  { name:"AHH BOTTOM MIDDLE", container:"bottomRow", indices:[5,6,7,8] },
  { name:"AHH BOTTOM RIGHT", container:"bottomRow", indices:[9,10,11,12,13] },

  // EEE FRONT
  { name:"EEE FRONT LEFT", container:"eeeLeft", indices:[0,1,2,3,4] },
  { name:"EEE FRONT MIDDLE", container:"eeeMiddle", indices:[0,1,2,3] },
  { name:"EEE FRONT RIGHT", container:"eeeRight", indices:[0,1,2,3,4] }
];

// Build teeth in containers
createTeeth("topRow",14);
createTeeth("bottomRow",14);
createTeeth("eeeLeft",5);
createTeeth("eeeMiddle",4);
createTeeth("eeeRight",5);

let currentStep = -1;
let timerInterval;
let remainingTime = 20;

function nextStep(){
  // Stop previous timer
  if(timerInterval) clearInterval(timerInterval);
  remainingTime = 20;
  document.getElementById('timer').innerText = "";

  // Clear all teeth highlights
  document.querySelectorAll('.tooth').forEach(t => t.classList.remove('active'));

  currentStep++;
  if(currentStep >= sections.length){
    document.getElementById('instruction').innerText = "ALL DONE! AMAZING BRUSHING! ðŸ¦·âœ¨";
    document.getElementById('timer').innerText = "";
    document.getElementById('nextBtn').style.display="none";
    document.getElementById('tongue').style.display="none";
    return;
  }

  const sec = sections[currentStep];
  document.getElementById('instruction').innerText = `Brush ${sec.name}`;

  // Show/hide sections
  if(currentStep<6){ // first 6 are AHH
    document.getElementById('ahhMouth').style.display="block";
    document.getElementById('eeeMouth').style.display="none";
    document.getElementById('tongue').style.display="block";
  } else { // EEE
    document.getElementById('ahhMouth').style.display="none";
    document.getElementById('eeeMouth').style.display="block";
    document.getElementById('tongue').style.display="none";
  }

  // Highlight teeth in this subsection
  const container = document.getElementById(sec.container).children;
  sec.indices.forEach(i=>{
    if(container[i]) container[i].classList.add('active');
  });

  // Start timer
  document.getElementById('timer').innerText = `Time left: ${remainingTime}s`;
  timerInterval = setInterval(()=>{
    remainingTime--;
    document.getElementById('timer').innerText = `Time left: ${remainingTime}s`;
    if(remainingTime<=0){
      clearInterval(timerInterval);
      document.getElementById('timer').innerText = "Time's up! Press NEXT";
    }
  },1000);
}
</script>
</body>
</html>
